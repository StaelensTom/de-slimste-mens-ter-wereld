{% extends "base.html" %}
{% block content %}
	{% if host %}
		{% include "host.html" %}
	{% else %}
		{% include "player.html" %}
	{% endif %}
	<div id="bumper" class="d-none">
		<h1 id="bumper_text">Wie dit leest, is zot</h1>
	</div>
	<div class="container-fluid {% if not host %}client{% endif %}">
		<div class="host" style="position: fixed; top: 0; left: 0; right: 0; background: rgba(0, 0, 0, 0.8); padding: 10px; z-index: 9999; backdrop-filter: blur(5px); display: flex; justify-content: space-between; align-items: center;">
			<div style="display: flex; align-items: center; gap: 5px; flex-wrap: wrap;">
				<button onclick="javascript:dsmtw.advanceRound();">Advance round</button>
				<button onclick="javascript:dsmtw.correct();">Correct</button>
				<button onclick="javascript:dsmtw.pass();">Pass</button>
				<button onclick="javascript:dsmtw.clockStart();">Clock start</button>
				<button onclick="javascript:dsmtw.clockStop();">Clock stop</button>
				<button id="host_skip_video_btn" class="d-none" onclick="javascript:dsmtw.hostSkipVideo();" style="background-color: #dc3545; color: white; font-weight: bold;">‚è≠Ô∏è Skip Video (All Players)</button>
				<h1 id="currentround" style="display: inline-block; margin: 0 0 0 10px;">current round</h1>
			</div>
			<button onclick="javascript:dsmtw.restartGame();" 
					style="background-color: #dc3545; color: white; border: 3px solid #a71d2a; padding: 10px 20px; font-size: 16px; font-weight: bold; border-radius: 8px; cursor: pointer; box-shadow: 0 4px 6px rgba(0,0,0,0.3); white-space: nowrap;"
					onmouseover="this.style.backgroundColor='#c82333'" 
					onmouseout="this.style.backgroundColor='#dc3545'">
				‚ö†Ô∏è HERSTART SPEL
			</button>
		</div>
		<button class="float host" onclick="javascript:dsmtw.releaseAdvance();">></button>
		<div class="row full top align-items-center justify-content-center text-center">
			<!-- Scores will go here -->
			<div class="col-2" style="max-width: 350px;">
				<div class="scores" id="scores">
					<!-- Score badges will be generated automatically -->
				</div>
				<div>
					<button class="clocktoggle host"
							onclick="javascript:dsmtw.clockToggle();"
							id="button_clock_toggle">Start klok</button>
				</div>
			</div>
			<!-- Actual game content will go here -->
			<div class="col-10 game">
				<div id="container_auxiliaryMedia" class="row justify-content-center pb-4 auxiliaryMedia">
					<div class="col-6 text-center" style="position: relative;">
						<img id="auxiliaryMedia">
						<button id="play_video_button" class="d-none" 
								onclick="AuxiliaryMedia.playVideoFromButton()" 
								style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: rgba(220, 53, 69, 0.9); color: white; border: none; padding: 20px 40px; font-size: 24px; font-weight: bold; border-radius: 50px; cursor: pointer; box-shadow: 0 4px 12px rgba(0,0,0,0.4); z-index: 100;"
								onmouseover="this.style.backgroundColor='rgba(200, 35, 51, 0.95)'" 
								onmouseout="this.style.backgroundColor='rgba(220, 53, 69, 0.9)'">
							‚ñ∂Ô∏è Speel Video
						</button>
					</div>
				</div>
				<div id="round_start" class="round">
					<div style="display: flex; flex-direction: column; gap: 20px; align-items: center;">
						<button onclick="javascript:dsmtw.playMainIntro();" 
								class="host" 
								style="background-color: #007bff; color: white; border: none; padding: 15px 30px; font-size: 18px; font-weight: bold; border-radius: 8px; cursor: pointer; min-width: 300px;">
							üé¨ Intro "De Slimste Mens Ter Wereld"
						</button>
						<button onclick="javascript:dsmtw.playRoundIntro();" 
								class="host" 
								style="background-color: #28a745; color: white; border: none; padding: 15px 30px; font-size: 18px; font-weight: bold; border-radius: 8px; cursor: pointer; min-width: 300px;">
							üé¨ Intro "3-6-9"
						</button>
						<button onclick="javascript:dsmtw.startGame();" 
								class="host" 
								style="background-color: #dc3545; color: white; border: none; padding: 20px 40px; font-size: 20px; font-weight: bold; border-radius: 8px; cursor: pointer; min-width: 300px;">
							‚ñ∂Ô∏è Start het spel (zonder intro)
						</button>
						
						<!-- Host Introduction Script (Host Only) -->
						<div class="host" style="margin-top: 40px;">
							<button onclick="showStartHostScripts()" 
									style="background-color: #6c757d; color: white; border: none; padding: 12px 24px; font-size: 16px; font-weight: bold; border-radius: 8px; cursor: pointer;">
								ÔøΩ Toon Host Scripts
							</button>
						</div>
						
						<!-- Hidden content for modal -->
						<div id="host_script_1" style="display: none;">
							<p style="font-size: 18px; line-height: 1.6; margin: 0;">
								Wie is de slimste mens ter wereld. Wie heeft geen nood aan een souffleur, maar weet dat hard werk ook komt met hard labeur. 
								Wie kent alle gassen in onze atmosfeer, en weet dat Pyrus communis latijn is voor de gewone peer. 
								En dat ik mijn cola zonder ijsblokken bestel, want dan krijg je meer.<br><br>
								
								Is het misschien <strong id="player_name_1_1">Speler 1</strong> - <em>kort rijmpje</em><br>
								Of is het misschien <strong id="player_name_2_1">Speler 2</strong> - <em>kort rijmpje</em><br>
								Zij worden uitgedaagd door <strong id="player_name_3_1">Speler 3</strong> - <em>kort rijmpje</em><br><br>
								
								<strong>Welkom bij de finale van de slimste mens ter wereld.</strong>
							</p>
						</div>
						
						<div id="host_script_2" style="display: none;">
							<p style="font-size: 18px; line-height: 1.6; margin: 0;">
								Dag <strong id="player_name_1_2">Speler 1</strong>, <strong id="player_name_2_2">Speler 2</strong> en <strong id="player_name_3_2">Speler 3</strong>.<br><br>
								
								Jullie kennen de eerste vraag "Zouden jullie de slimste mens ter wereld kunnen worden"?<br>
								Van wie ben je het meeste bang, <strong id="player_name_2_3">Speler 2</strong> of <strong id="player_name_3_3">Speler 3</strong>?<br><br>
								
								Het wordt tijd om de jury officieel voor te stellen: <strong>jurylid 1</strong> en <strong>jurylid 2</strong>.<br>
								De kandidaten, prachtig. Wat verwachten jullie van de kandidaten?
							</p>
						</div>
						
						<div id="host_script_3" style="display: none;">
							<p style="font-size: 18px; line-height: 1.6; margin: 0;">
								Ik ga 60 seconden uitdelen aan ieder van jullie. Dat is jullie startkapitaal, en je verdient bijkomende seconden per goed antwoord, mogelijk ook in de finale. 
								En we beginnen bij 3-6-9<br>
								<em>(klik op tune 3-6-9)</em><br><br>
								
								De slimste mens kent alle deelgebergten van de karpaten. En babbelt vlotjes over nitraten en fosfaten. 
								Maar steekt het ook wijselijk op de hond wanneer je een wind hebt gelaten. Dat is waar, he. 
								12 vragen, wie juist antwoord blijft aan de beurt. En elke 3de vraag levert 10 seconden op.<br><br>
								
								<strong id="player_name_1_3">Speler 1</strong>, ik begin bij jou.
							</p>
						</div>
					</div>
				</div>
				{% include "rounds/369.html" %}
				{% include "rounds/InterludeOpenDeur.html" %}
				{% include "rounds/OpenDeur.html" %}
				{% include "rounds/InterludePuzzel.html" %}
				{% include "rounds/Puzzel.html" %}
				{% include "rounds/Galerij.html" %}
				{% include "rounds/CollectiefGeheugen.html" %}
				{% include "rounds/Finale.html" %}
			</div>
		</div>
	</div>
	<video id="auxiliaryMedia_video" class="d-none"></video>
	
	<!-- YouTube Video Container -->
	<div id="auxiliaryMedia_youtube_container" class="d-none" style="position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 10000; width: auto; height: auto;">
		<div style="position: relative; background: rgba(0,0,0,0.95); padding: 30px; border-radius: 15px; box-shadow: 0 10px 40px rgba(0,0,0,0.8);">
			<iframe id="auxiliaryMedia_youtube" 
					style="width: 800px; height: 450px; display: block; border: none;" 
					frameborder="0" 
					allow="autoplay; encrypted-media">
			</iframe>
			<button id="skip_video_button" 
					onclick="AuxiliaryMedia.closeVideo()" 
					style="position: absolute; top: 10px; right: 10px; background: #dc3545; color: white; border: none; padding: 12px 24px; font-size: 18px; font-weight: bold; border-radius: 8px; cursor: pointer; box-shadow: 0 4px 8px rgba(0,0,0,0.5); z-index: 10001;"
					onmouseover="this.style.backgroundColor='#c82333'" 
					onmouseout="this.style.backgroundColor='#dc3545'">
				‚è≠Ô∏è Skip
			</button>
		</div>
	</div>
	
	<audio id="snd_bumper">
  		<source src="/static/sounds/bumper.mp3" type="audio/mpeg">
	</audio>
	<audio id="snd_correct">
  		<source src="/static/sounds/correct.mp3" type="audio/mpeg">
	</audio>
	<audio id="snd_clock">
  		<source src="/static/sounds/clock.mp3" type="audio/mpeg">
	</audio>
	<audio id="snd_clock_end">
  		<source src="/static/sounds/clock_end.mp3" type="audio/mpeg">
	</audio>
	<audio id="snd_intro">
  		<source src="/static/sounds/intro.mp3" type="audio/mpeg">
	</audio>
	<audio id="snd_finale">
  		<source src="/static/sounds/finale.mp3" type="audio/mpeg">
	</audio>
{% endblock %}